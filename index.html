<!DOCTYPE html>
<html>
<head>
    <title>CSV Viewer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
</head>
<body>
    <h1>CSV Data</h1>
    <table id="csv-table" border="1">
        <!-- CSV Data will be inserted here -->
    </table>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const csvUrl = "https://aboele13.github.io/CompleteW101Gear/Myth_Gear/Myth_Robes.csv";  // Replace with your actual CSV URL

            console.log("Fetching CSV from:", csvUrl);
            Papa.parse(csvUrl, {
                download: true,
                header: true,
                complete: function(results) {
                    if (results.errors.length > 0) {
                        console.error("Errors occurred while parsing the CSV:", results.errors);
                        return;
                    }

                    var data = results.data;
                    var table = document.getElementById('csv-table');

                    // Check if data is available
                    if (data.length === 0) {
                        console.log("No data found in CSV.");
                        return;
                    }

                    // Create table header
                    var header = table.createTHead();
                    var headerRow = header.insertRow(0);
                    Object.keys(data[0]).forEach(function(key) {
                        var cell = headerRow.insertCell(-1);
                        cell.innerHTML = key;
                    });

                    // Create table body
                    var body = table.createTBody();
                    data.forEach(function(row) {
                        var bodyRow = body.insertRow(-1);
                        Object.values(row).forEach(function(value) {
                            var cell = bodyRow.insertCell(-1);
                            cell.innerHTML = value;
                        });
                    });

                    console.log("CSV data successfully loaded and displayed.");
                },
                error: function(err) {
                    console.error("An error occurred while fetching the CSV:", err);
                }
            });
        });
    </script>
</body>
</html>
